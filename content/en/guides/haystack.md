---
title: "Project Haystack Guide"
linkTitle: "Project Haystack"
weight: 1
type: docs
draft: true
description: >
  Project Haystack Guide
---

## Introduction
This introductory guide explains Project Haystack

## What is Project Haystack?
> Project Haystack is an open source initiative to streamline working with data from the Internet of Things.

A nonprofit profit organisation established in 2014, Project Haystack is an open community with a common goal to make data easier to work with. The community develop and maintain an open standard that industries can adopt for the

## What is Project Haystack Data Model?
The Project Haystack semantic data model is used to represent the various equipment and relationships in automation, control, energy, HVAC, lighting, and other environmental systems. This standardised structure makes it easy to exchange information, and unlock value from the vast amounts of data being generated by the smart devices that permeate our homes, buildings, factories, and cities.

## Why do we need Project Haystack?
Interoperability

## How does it compare to Brick?
Brick is a "competing standard" led by researchers from Berkley  that is currently under development



## Entities and Tags
Project Haystack maps physical objects in buildings to entities. You can think of an entity as an abstraction for a single Site (a building with an address), a piece of equipment in a building (e.g.  HVAC unit, an electric meter, or a variable air volume box), or a sensor point (Digital or analog sensor that generate signals and data e.g .temperature sensor, pressure sensor, on/off switch, etc).


## Tags
A tag defines a fact or attribute about an entity. For example, if we apply the site tag to an entity, then we are declaring that the entity represents a building that has an address as per the Haystack definition of the site tag.

Currently there are over 200 tags defined by Project Haystack that can be applied in various combinations to define virtually any set of descriptors or relationships for equipment, systems and associated data in a standardized way. The tagging method also means you only have flexibility to apply tags that are relevant to your application.

Site, equip and point are the 3 main tags used for an entity definition in Project Haystack.  This document will show a simple example of how we organise them with other tags to entities in a simple building.

Tag Kinds (Tag Types)

Project Haystack has several tag types or kinds. In this document we will focus on three that are commonly used.
Marker
A marker tag is merely an annotation with no associated value. Marker tags are used to indicate a "type" or "is-a" relationships. For example, Applying the ahu tag to an entity indicates that it’s an “Air Handler Unit which heats and/or cools air”.

Marker tags can be optionally applied to an entity in any combination to provide fine-grained detail. For example, to describe an energy meter’s kWh value, we could add the following combination of marker tags:
point: ✓
elec: ✓
energy: ✓

Note:
In this example it is common for the entity to have other tags specified, e.g. dis, units.
The ✓notation is used throughout this document to denote the tag is a Marker kind
Str
A string (str) tag has an associated text value.  Str tags are commonly used for human readable descriptions. For example, the dis tag is used for an entities display name ‘Incoming Energy Meter’,  geoAddr is used for defining the street address ‘455 Larkspur Dr. Baviera, CA 92908’.

For some str tags, Project Haystack defines a list of permissible text values. For example, the unit tag is used for defining the unit of measurement, where the text value can only be set from a record in the unit database maintained by Project Haystack.

In the point entity listed above we could add the following str tags:
dis: ‘Energy’
unit: ‘kWh’
Ref
Ref tags are assigned values of other entities to help us define how entities within a data model relate to one another. For example, we can associate an equip entity to a particular site entity via siteRef, or associate a point to a particular equip via equipRef

In the point entity example above, we could add the equipRef tag and set it’s value  to another entity, which is the energy meter itself.

equipRef: ‘@Id_of_Energy_Meter_Entity’

Note: ‘@Id_of_Energy_Meter_Entity’ value simply identifies another equip entity which is an Energy Meter.
Example Summary
To summarise the above examples we would have described the Energy Meters kWh reading:
point: ✓
elec: ✓
energy: ✓
dis: ‘Energy’
kind: ‘Number’
unit: ‘kWh’
equipRef: ‘@Id_of_Energy_Meter’

Note: There are other common tags that are applied to points e.g. sensor, currVal, and his. They have been omitted for simplicity.
Other Tag Types

The remaining tag kinds used in Project Haystack are listed below:

Bin: a binary blob with a MIME type formatted as Bin(text/plain)
Bool: boolean "true" or "false".
Coord: geographic coordinate in latitude/longitude formatted as C(lat,lng)
Date: an ISO 8601 date as year, month, day: 2011-06-07.
DateTime: an ISO 8601 timestamp followed by timezone name: 2011-06-07T09:51:27-04:00 New_York
NA: singleton value which represents not available for missing data
Number: integer or floating point number annotated with an optional unit of measurement.
Time: an ISO 8601 time as hour, minute, seconds: 09:51:27.354.
Uri: a Universal Resource Identifier.
XStr: extended typed string which specifies a type name a string encoding

There are also three collection tag kinds:
List: list of zero or more values of any type
Dict: an associated array of name/value tag pairs
Grid: a two dimensional table of columns and rows, see Grids
